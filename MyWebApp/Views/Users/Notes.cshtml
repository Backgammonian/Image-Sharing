@*
    List of User's Notes
*@

@model UserNotesViewModel

@if (Model == null)
{
    <h2>This user doesn't exist.</h2>
}
else
{
    var user = Model.User;
    var notesDetails = Model.Notes;
    var profilePicture = Model.ProfilePicture;

    <img width="100" height="100" src="@ImagePathHelper.GetPath(profilePicture.ImageFileName)" asp-append-version="true"/>
    <h2>@user.UserName</h2>
    <h4>@user.Status</h4>
    <h3>Notes of user @user.UserName</h3>
    @foreach (var notesDetail in notesDetails)
    {
        <h3>@notesDetail.Note.Title</h3>
        <h4>@notesDetail.Note.Description</h4>
        @foreach (var image in notesDetail.Images)
        {
            <img src="@($"~/images/{image.ImageFileName}")" asp-append-version="true"/>
        }
        <h4>Rating: @notesDetail.Score</h4>
        <h4>Tags:</h4>
        @foreach (var tag in notesDetail.Tags)
        {
            <a asp-controller="Tags" asp-action="GetByTag" asp-route-tag="@tag" class="btn btn-sm btn-outline-secondary">@tag</a>
        }
        <div>
            <a asp-controller="Notes" asp-action="Edit" asp-route-id="@notesDetail.Note.NoteId" class="btn btn-sm btn-outline-secondary">Edit</a>
            <a asp-controller="Notes" asp-action="Delete" asp-route-id="@notesDetail.Note.NoteId" class="btn btn-sm btn-outline-secondary">Delete</a>
        </div>
    }
}